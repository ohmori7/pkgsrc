$NetBSD: patch-CVE-2018-10963,v 1.1 2018/10/28 09:45:07 spz Exp $

patch for CVE-2018-10963 from upstream git repo

--- libtiff/tif_dirwrite.c.orig	2017-08-29 13:39:48.000000000 +0000
+++ libtiff/tif_dirwrite.c
@@ -697,8 +697,11 @@ TIFFWriteDirectorySec(TIFF* tif, int isi
 								}
 								break;
 							default:
-								assert(0);   /* we should never get here */
-								break;
+								TIFFErrorExt(tif->tif_clientdata,module,
+								"Cannot write tag %d (%s)",
+								TIFFFieldTag(o),
+								o->field_name ? o->field_name : "unknown");
+																		goto bad;
 						}
 					}
 				}
